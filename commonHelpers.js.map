{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst BASE = 'https://pixabay.com/api/';\nconst API_KEY = '41493530-c71176b83a18405cd33ba2537';\nconst IMAGE_TYPE = 'photo';\nconst ORIENTATION = 'horizontal';\nconst SAFESEARCH = 'true';\n\nconst BASE_URL = `${BASE}?key=${API_KEY}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH}&q=`;\n\nfunction createInfoBlock(title, value) {\n  return `\n    <div style=\"display: flex;\n                flex-direction: column;\n                align-items: center;\">\n      <p>${title}</p>\n      <p>${value}</p>\n    </div>\n  `;\n}\n\nconst linkElement = document.querySelector('.linkStyle');\nconst cardElement = document.querySelector('.cardStyle');\nconst imgElement = document.querySelector('.imgStyle');\nconst infoElement = document.querySelector('.infoStyle');\n\nfunction createImageCardMarkup({\n  largeImageURL,\n  webformatURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n    <a href=\"${largeImageURL}\" class=\"lightbox-image linkStyle\">\n      <div class=\"image-card cardStyle\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"imgStyle\" />\n        <div class=\"infoStyle\">\n          ${createInfoBlock('Likes', likes)}\n          ${createInfoBlock('Views', views)}\n          ${createInfoBlock('Comments', comments)}\n          ${createInfoBlock('Downloads', downloads)}\n  `;\n}\n\nconst lightbox = new SimpleLightbox('.lightbox-image', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction createGalleryElement(parentElement) {\n  const gallery = document.createElement('div');\n  gallery.className = 'gallery custom-gallery-style';\n  parentElement.appendChild(gallery);\n  return gallery;\n}\nconst container = document.querySelector('.container');\nconst createGallery = createGalleryElement(container);\n\ndocument.querySelector('form').addEventListener('submit', function (event) {\n  event.preventDefault();\n  const gallery = document.querySelector('.gallery') || createGalleryElement();\n  gallery.innerHTML = '';\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'block';\n  const searchQuery = document.querySelector('input[type=\"text\"]').value;\n\n  fetch(`${BASE_URL}${encodeURIComponent(searchQuery)}`)\n    .then(response => response.json())\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.warning(toastOptions);\n      } else {\n        data.hits.forEach(image => {\n          const markup = createImageCardMarkup(image);\n          gallery.innerHTML += markup;\n        });\n      }\n      searchInput.value = '';\n      lightbox.refresh();\n      loader.style.display = 'none';\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      loader.style.display = 'none';\n      iziToast.error({\n        ...toastOptions,\n        message: 'An error occurred. Please try again later.',\n      });\n    });\n});\n\nconst searchInput = document.querySelector('.search-input');\nconst toastOptions = {\n  title: '',\n  message:\n    'Sorry, there are no images matching<br> your search query. Please try again!',\n  position: 'topRight',\n  backgroundColor: '#EF4040',\n  messageColor: '#FAFAFB',\n  theme: 'dark',\n  messageSize: '322px',\n};\n"],"names":["BASE","API_KEY","IMAGE_TYPE","ORIENTATION","SAFESEARCH","BASE_URL","createInfoBlock","title","value","createImageCardMarkup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","createGalleryElement","parentElement","gallery","container","event","loader","searchQuery","response","data","iziToast","toastOptions","image","markup","searchInput","error"],"mappings":"wvBAQA,MAAMA,EAAO,2BACPC,EAAU,qCACVC,EAAa,QACbC,EAAc,aACdC,EAAa,OAEbC,EAAW,GAAGL,SAAYC,gBAAsBC,iBAA0BC,gBAA0BC,OAE1G,SAASE,EAAgBC,EAAOC,EAAO,CACrC,MAAO;AAAA;AAAA;AAAA;AAAA,WAIED;AAAA,WACAC;AAAA;AAAA,GAGX,CAEoB,SAAS,cAAc,YAAY,EACnC,SAAS,cAAc,YAAY,EACpC,SAAS,cAAc,WAAW,EACjC,SAAS,cAAc,YAAY,EAEvD,SAASC,EAAsB,CAC7B,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,eACMN;AAAA;AAAA,oBAEKC,WAAsBC;AAAA;AAAA,YAE9BN,EAAgB,QAASO,CAAK;AAAA,YAC9BP,EAAgB,QAASQ,CAAK;AAAA,YAC9BR,EAAgB,WAAYS,CAAQ;AAAA,YACpCT,EAAgB,YAAaU,CAAS;AAAA,GAElD,CAEA,MAAMC,EAAW,IAAIC,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASC,EAAqBC,EAAe,CAC3C,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5C,OAAAA,EAAQ,UAAY,+BACpBD,EAAc,YAAYC,CAAO,EAC1BA,CACT,CACA,MAAMC,EAAY,SAAS,cAAc,YAAY,EAC/BH,EAAqBG,CAAS,EAEpD,SAAS,cAAc,MAAM,EAAE,iBAAiB,SAAU,SAAUC,EAAO,CACzEA,EAAM,eAAc,EACpB,MAAMF,EAAU,SAAS,cAAc,UAAU,GAAKF,EAAoB,EAC1EE,EAAQ,UAAY,GACpB,MAAMG,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,QACvB,MAAMC,EAAc,SAAS,cAAc,oBAAoB,EAAE,MAEjE,MAAM,GAAGpB,IAAW,mBAAmBoB,CAAW,GAAG,EAClD,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBC,EAAS,QAAQC,CAAY,EAE7BF,EAAK,KAAK,QAAQG,GAAS,CACzB,MAAMC,EAAStB,EAAsBqB,CAAK,EAC1CT,EAAQ,WAAaU,CAC/B,CAAS,EAEHC,EAAY,MAAQ,GACpBf,EAAS,QAAO,EAChBO,EAAO,MAAM,QAAU,MAC7B,CAAK,EACA,MAAMS,GAAS,CACd,QAAQ,MAAM,SAAUA,CAAK,EAC7BT,EAAO,MAAM,QAAU,OACvBI,EAAS,MAAM,CACb,GAAGC,EACH,QAAS,4CACjB,CAAO,CACP,CAAK,CACL,CAAC,EAED,MAAMG,EAAc,SAAS,cAAc,eAAe,EACpDH,EAAe,CACnB,MAAO,GACP,QACE,+EACF,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,MAAO,OACP,YAAa,OACf"}